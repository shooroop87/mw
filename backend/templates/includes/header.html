{% load static i18n %}

<header class="uc-header header-seven uc-navbar-sticky-wrap z-999" data-uc-sticky="sel-target: .uc-navbar-container; cls-active: uc-navbar-sticky; cls-inactive: uc-navbar-transparent; end: !*;">
    <nav class="uc-navbar-container text-gray-900 dark:text-white fs-6 z-1">
        
        <!-- Top ticker bar -->
        <div class="uc-top-navbar panel z-3 overflow-hidden bg-primary-600 swiper-parent" style="--uc-nav-height: 32px">
            <div class="container container-full">
                <div class="uc-navbar-item">
                    <div class="swiper swiper-ticker swiper-ticker-sep px-2" style="--uc-ticker-gap: 32px" data-uc-swiper="items: auto; gap: 32; center: true; autoplay: 10000; speed: 10000; loop: true; allowTouchMove: false; freeMode: true;">
                        <div class="swiper-wrapper">
                            {% for post in ticker_posts %}
                            <div class="swiper-slide text-white">
                                <div class="type-post post panel">
                                    <a href="{{ post.get_absolute_url }}" class="fs-7 fw-normal text-none text-inherit">{{ post.title }}</a>
                                </div>
                            </div>
                            {% empty %}
                            <div class="swiper-slide text-white">
                                <span class="fs-7 fw-normal">{% trans "Добро пожаловать в MilanWeek" %}</span>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Center navbar - категории (desktop) -->
        <div class="uc-center-navbar panel hstack z-2 min-h-48px d-none lg:d-flex">
            <div class="container max-w-xl">
                <div class="navbar-container hstack border-bottom">
                    <div class="uc-navbar-center gap-2 lg:gap-3 flex-1">
                        <ul class="uc-navbar-nav gap-3 justify-between flex-1 fs-6 fw-bold" style="--uc-nav-height: 48px">
                            {% for category in categories %}
                            <li>
                                <a href="{{ category.get_absolute_url }}">{{ category.name }}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- Bottom navbar - логотип и иконки -->
        <div class="uc-bottom-navbar panel z-1 bg-white dark:bg-gray-900 border-bottom">
            <div class="container max-w-xl">
                <div class="uc-navbar min-h-64px lg:min-h-80px" data-uc-navbar="animation: uc-animation-slide-top-small; duration: 150;">
                    
                    <!-- Left: menu trigger + logo (mobile) -->
                    <div class="uc-navbar-left gap-2">
                        <div class="uc-navbar-item d-inline-flex lg:d-none">
                            <a class="uc-menu-trigger" href="#uc-menu-panel" data-uc-toggle></a>
                        </div>
                        <div class="uc-logo d-block md:d-none">
                            <a href="{% url 'core:home' %}">
                                <img class="w-100px text-dark dark:text-white" src="{% static 'images/logo.svg' %}" alt="MilanWeek" data-uc-svg>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Center: logo (desktop) -->
                    <div class="uc-navbar-center">
                        <div class="uc-logo d-none md:d-block">
                            <a href="{% url 'core:home' %}">
                                <img class="w-150px text-dark dark:text-white" src="{% static 'images/logo.svg' %}" alt="MilanWeek" data-uc-svg>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Right: иконки -->
                    <div class="uc-navbar-right gap-2 lg:gap-3">
                        <!-- Поиск -->
                        <div class="uc-navbar-item">
                            <a class="uc-search-trigger cstack text-none text-dark dark:text-white" href="#uc-search-modal" data-uc-toggle>
                                <i class="icon icon-2 fw-medium unicon-search"></i>
                            </a>
                        </div>
                        
                        <!-- Аккаунт -->
                        <div class="uc-navbar-item d-none lg:d-inline-flex">
                            {% if user.is_authenticated %}
                            <a class="btn btn-sm border-0 p-0 dark:text-white" href="{% url 'accounts:profile' %}">
                                <i class="icon icon-2 fw-medium unicon-user-avatar"></i>
                            </a>
                            {% else %}
                            <a class="uc-account-trigger btn btn-sm border-0 p-0 dark:text-white" href="#uc-account-modal" data-uc-toggle>
                                <i class="icon icon-2 fw-medium unicon-user-avatar"></i>
                            </a>
                            {% endif %}
                        </div>
                        
                        <!-- Язык -->
                        <div class="uc-navbar-item d-none lg:d-inline-flex">
                            <a href="#lang_switcher" class="hstack gap-1 text-none fw-medium dark:text-white">
                                <i class="icon icon-1 unicon-earth-filled"></i>
                                <span class="fs-7 text-uppercase">{{ LANGUAGE_CODE }}</span>
                            </a>
                            <div class="p-2 bg-white dark:bg-gray-800 shadow-xs rounded w-100px" data-uc-drop="mode: click; animation: uc-animation-slide-top-small; duration: 150;">
                                <ul class="nav-y gap-1 fw-medium">
                                    <li><a href="{% url 'set_language' %}?lang=ru">Русский</a></li>
                                    <li><a href="{% url 'set_language' %}?lang=en">English</a></li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Dark mode -->
                        <div class="uc-navbar-item d-none lg:d-inline-flex">
                            <div class="uc-modes-trigger btn btn-xs w-32px h-32px p-0 border fw-normal rounded-circle dark:text-white hover:bg-gray-25 dark:hover:bg-gray-900" data-darkmode-toggle="">
                                <label class="switch">
                                    <span class="sr-only">Dark mode</span>
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>